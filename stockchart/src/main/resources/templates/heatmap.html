<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Market Heatmap</title>
    
    <link href="/css/footer.css" rel="stylesheet" type="text/css">
    <link href="/css/header.css" rel="stylesheet" type="text/css">
    

    <style>
body {
    font-family: Inter, sans-serif;
    color: #e6edf3;
    margin: 0;
    padding: 20px;
}

/* Title */
.title {
    font-size: 24px;
    margin: 30px 0 15px;
}

.heatmap-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

/* ê¸°ë³¸ ë°•ìŠ¤ */
.box {
    position: relative;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.box:hover {
    transform: scale(1.06);
    box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    z-index: 5;
}

/* Tooltip */
.tooltip {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    bottom: 110%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(15, 15, 20, 0.95);
    padding: 10px 12px;
    border-radius: 6px;
    font-size: 12px;
    width: max-content;
    white-space: nowrap;
}

.box:hover .tooltip {
    visibility: visible;
    opacity: 1;
}

.very-positive { background: #1f7a4d; }
.positive      { background: #2e9f6f; }
.neutral       { background: #2b3137; }
.negative      { background: #b23a48; }
.very-negative { background: #7a1f2a; }

.name {
    font-size: 15px;
}

.value {
    font-size: 13px;
    opacity: 0.9;
}
</style>

</head>
<body>

<div th:replace="CommonFile/header :: header"></div>

<!-- ğŸ“Š ê¸€ë¡œë²Œ ì§€ìˆ˜ -->
<div class="title">ğŸ“Š ê¸€ë¡œë²Œ ì§€ìˆ˜ íˆíŠ¸ë§µ</div>
<div class="heatmap-grid">
    <div class="box"
         th:each="item : ${indices}"
         th:with="chg=${item.change}"
         th:classappend="${
            chg >= 1 ? ' very-positive' :
            (chg >= 0.3 ? ' positive' :
            (chg >= -0.3 ? ' neutral' :
            (chg >= -1 ? ' negative' : ' very-negative')))
         }">
        <div class="name" th:text="${item.name}"></div>
        <div class="value" th:text="${chg + '%'}"></div>
    </div>
</div>

<!-- ğŸ­ ì—…ì¢… -->
<div class="title">ğŸ­ ì—…ì¢…ë³„ íˆíŠ¸ë§µ</div>

<div class="heatmap-grid">
    <th:block th:each="item : ${sectors}">
        <div class="box"
             th:with="
                chg=${item.change + 0},
                size=${item.cap}
             "
             th:style="'flex-grow:' + ${size}"
             th:classappend="${
                chg >= 1 ? ' very-positive' :
                (chg >= 0.3 ? ' positive' :
                (chg >= -0.3 ? ' neutral' :
                (chg >= -1 ? ' negative' : ' very-negative')))
             }">

            <div class="name" th:text="${item.name}"></div>
            <div class="value" th:text="${chg + '%'}"></div>

            <!-- ğŸ”¥ Hover Tooltip -->
            <div class="tooltip">
                <div>ì‹œì´ ë¹„ì¤‘: <span th:text="${item.cap}"></span></div>
                <div>ê±°ë˜ëŒ€ê¸ˆ: <span th:text="${item.volume}"></span></div>
                <div>ëŒ€í‘œ ì¢…ëª©: <span th:text="${item.leaders}"></span></div>
            </div>

        </div>
    </th:block>
</div>




<div th:replace="CommonFile/footer :: footer"></div>

</body>
</html>